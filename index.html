<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radar de IA - Sicredi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Estilos originais do RECIP (Preservados) */
        body { font-family: 'Inter', sans-serif; }
        .sidebar-fixed {
            position: sticky;
            top: 4rem; 
            height: calc(100vh - 4rem); 
            overflow-y: auto; 
        }
        .modal { transition: opacity 0.3s ease-in-out; }

        .explanation-section {
            max-width: 900px;
            width: 95%;
            margin-bottom: 24px;
            padding: 16px;
            background: #f8f8f8;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            font-size: 0.95rem;
            line-height: 1.5;
            color: #4b5563;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin: 0 auto;
        }
        .explanation-section strong {
            color: #3FA110;
            font-weight: 700;
        }
        .explanation-list {
            margin-top: 10px;
            padding-left: 20px;
        }
        .explanation-list li {
            margin-bottom: 5px;
        }

        /* Botões de filtro originais */
        .content-filter-section { margin: 32px auto 0 auto; max-width: 900px; }
        .content-item {
            background: #f0f0f0;
            color: #212121;
            font-size: 1.1rem;
            font-weight: 500;
            border-radius: 16px;
            padding: 10px 28px;
            cursor: pointer;
            transition: background 0.2s, color 0.2s;
            border: none;
            margin-bottom: 8px;
        }
        .content-item.active,
        .content-item:hover {
            background: #3FA110;
            color: #ffffff;
        }

        .radar-container {
            position: relative;
            margin: 0 auto 32px auto;
        }
        .radar-svg {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Card de Detalhes (Estilos Base originais) */
        .selected-card-container {
            width: 100%; 
            display: flex;
            justify-content: center;
            margin-top: 16px;
            margin-bottom: 32px;
        }
        .selected-card {
            background: #ffffff;
            border-radius: 22px;
            padding: 28px 36px;
            min-width: 320px;
            max-width: 800px;
            width: 95%; 
            display: flex;
            flex-direction: column;
            gap: 12px;
            font-size: 1.1rem;
            animation: fadeIn 0.3s;
        }
        .card-maturity {
            font-weight: 600;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid #e0e0e0;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px);}
            to { opacity: 1; transform: translateY(0);}
        }

        /* Tooltip original */
        .tooltip {
            position: fixed;
            background: #3FA110; 
            color: #fff;
            padding: 8px 14px;
            border-radius: 12px;
            font-size: 1rem;
            pointer-events: none;
            z-index: 10;
            box-shadow: 0 4px 24px rgba(63, 161, 16, 0.4);
            display: none;
            max-width: 250px;
            word-break: break-word;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">

    <header class="fixed top-0 left-0 right-0 h-16 bg-[#3FA110] shadow-md z-50 flex items-center justify-between px-4 lg:px-8">
        <div class="flex items-center space-x-4">
            <button id="menu-toggle" class="lg:hidden p-2 text-white hover:bg-[#327a0d] rounded-md">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
            <h1 class="text-xl lg:text-2xl font-bold text-white tracking-wider">RADAR IA | Ecossistema de Inteligência Artificial</h1>
        </div>
        <div class="flex items-center space-x-4">
            <img src="img/sicredi-logo.png" alt="Logo Sicredi" class="h-8 hidden sm:block">
            <img src="img/inovacao-logo.png" alt="Logo Inovação" class="h-8 hidden md:block">
        </div>
    </header>

    <main class="pt-16 flex">

        <nav id="sidebar" class="fixed top-16 left-0 w-64 bg-white shadow-xl h-[calc(100vh-4rem)] overflow-y-auto z-40 lg:block hidden">
            <div class="p-4 space-y-2">
                <a href="#intro" data-content-id="intro" class="menu-item block px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition duration-150 ease-in-out" aria-current="true">
                    <span class="font-bold text-[#3FA110]">⚫</span> Introdução
                </a>
                
                <h3 class="px-4 pt-4 text-xs font-semibold uppercase text-gray-400">Dimensões de IA</h3>
                <a href="#dimensao-dados" data-content-id="dimensao-dados" class="menu-item block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                    <span class="font-bold text-[#3FA110]">1.</span> Dados e Decisão
                </a>
                <a href="#dimensao-eficiencia" data-content-id="dimensao-eficiencia" class="menu-item block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                    <span class="font-bold text-[#3FA110]">2.</span> Eficiência Operacional
                </a>
                <a href="#dimensao-experiencia" data-content-id="dimensao-experiencia" class="menu-item block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                    <span class="font-bold text-[#3FA110]">3.</span> Experiência do Cliente
                </a>
                <a href="#dimensao-conhecimento" data-content-id="dimensao-conhecimento" class="menu-item block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                    <span class="font-bold text-[#3FA110]">4.</span> Gestão do Conhecimento
                </a>
                <a href="#dimensao-criatividade" data-content-id="dimensao-criatividade" class="menu-item block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg">
                    <span class="font-bold text-[#3FA110]">5.</span> Criatividade & Design
                </a>

                <h3 class="px-4 pt-4 text-xs font-semibold uppercase text-gray-400">Visão Geral</h3>
                <a href="#radar" data-content-id="radar" class="menu-item block px-4 py-2 text-sm font-bold bg-[#3FA110] text-white rounded-lg transition duration-150 ease-in-out">
                    <svg class="w-4 h-4 inline-block mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    Radar de Soluções
                </a>
            </div>
        </nav>

        <section id="main-content" class="flex-grow p-4 lg:p-8 lg:ml-64">
            
            <div id="content-intro" class="content-section bg-white p-6 rounded-lg shadow-xl w-full max-w-7xl mx-auto">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Radar de Adoção de IA</h2>
                <div class="text-gray-700 space-y-4">
                    <p>Bem-vindo ao radar interativo de Inteligência Artificial. Esta ferramenta mapeia as iniciativas e ferramentas de IA dentro do nosso ecossistema, categorizadas para facilitar a visualização de maturidade e propósito.</p>
                    <p>Nossas inovações são categorizadas em cinco dimensões estratégicas:</p>
                    <ul class="list-disc list-inside ml-4 space-y-2">
                        <li><strong>Dados e Decisão:</strong> Análise preditiva, crédito, risco e inteligência de mercado.</li>
                        <li><strong>Eficiência Operacional:</strong> Automação de processos (RPA), recrutamento e produtividade.</li>
                        <li><strong>Experiência do Cliente:</strong> Chatbots, assistentes virtuais e atendimento.</li>
                        <li><strong>Gestão do Conhecimento:</strong> Busca inteligente, RAG e organização da informação.</li>
                        <li><strong>Criatividade & Design:</strong> Geração de imagens, marketing e ativos visuais.</li>
                    </ul>
                </div>
            </div>

            <div id="content-dimensao-dados" class="content-section bg-white p-6 rounded-lg shadow-xl w-full max-w-7xl mx-auto hidden">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Dimensão 1: Dados e Decisão</h2>
                <div class="text-gray-700 space-y-4">
                    <p>Esta dimensão foca no uso de modelos matemáticos e estatísticos avançados para suportar a tomada de decisão estratégica.</p>
                    <p>Inclui iniciativas de <strong>Crédito e Risco</strong>, <strong>Análise Preditiva</strong> e <strong>Recuperação de Crédito</strong>. O objetivo é utilizar dados históricos e em tempo real para prever cenários, mitigar riscos e personalizar ofertas.</p>
                </div>
            </div>
            
            <div id="content-dimensao-eficiencia" class="content-section bg-white p-6 rounded-lg shadow-xl w-full max-w-7xl mx-auto hidden">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Dimensão 2: Eficiência Operacional</h2>
                <div class="text-gray-700 space-y-4">
                    <p>Focada em otimizar processos internos, reduzindo o trabalho manual e repetitivo.</p>
                    <p>Abrange <strong>Automação de Processos</strong> e <strong>Recrutamento e Seleção</strong>. Ferramentas como RPA e triagem automática de currículos se encaixam aqui, liberando as equipes para atividades de maior valor agregado.</p>
                </div>
            </div>
            
            <div id="content-dimensao-experiencia" class="content-section bg-white p-6 rounded-lg shadow-xl w-full max-w-7xl mx-auto hidden">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Dimensão 3: Experiência do Cliente</h2>
                <div class="text-gray-700 space-y-4">
                    <p>Uso de IA para interagir diretamente com o associado ou colaborador, melhorando a satisfação e agilidade.</p>
                    <p>O foco principal é <strong>Atendimento ao Cliente</strong> através de assistentes virtuais, chatbots inteligentes e análise de sentimento.</p>
                </div>
            </div>
            
            <div id="content-dimensao-conhecimento" class="content-section bg-white p-6 rounded-lg shadow-xl w-full max-w-7xl mx-auto hidden">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Dimensão 4: Gestão do Conhecimento</h2>
                <div class="text-gray-700 space-y-4">
                    <p>Como armazenamos, buscamos e geramos informação interna.</p>
                    <p>Projetos de <strong>Busca e Geração de Informações</strong>, como sistemas RAG (Retrieval Augmented Generation) que permitem "conversar" com bases de documentos internos.</p>
                </div>
            </div>
            
            <div id="content-dimensao-criatividade" class="content-section bg-white p-6 rounded-lg shadow-xl w-full max-w-7xl mx-auto hidden">
                <h2 class="text-3xl font-bold text-gray-800 mb-4">Dimensão 5: Criatividade & Design</h2>
                <div class="text-gray-700 space-y-4">
                    <p>Exploração de IA Generativa para produção de conteúdo visual.</p>
                    <p>Ferramentas de <strong>Criação Visual</strong> que auxiliam o marketing e comunicação na geração de imagens, vídeos e layouts.</p>
                </div>
            </div>

            <div id="content-radar" class="content-section bg-white p-6 rounded-lg shadow-xl w-full max-w-7xl mx-auto hidden flex-col items-center">
                <div class="w-full text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Análise de Ferramentas IA</h2>
                    <p class="text-lg text-gray-600">Visualização por Dimensões de Uso</p>
                </div>

                <div class="explanation-section w-full">
                    <p>
                        O <strong>Radar de IA</strong> mapeia as ferramentas conforme sua maturidade.
                    </p>
                    <p><strong>Interpretação da Posição dos Pontos:</strong></p>
                    <ul class="explanation-list">
                        <li><strong>Eixos Radiais:</strong> Indicam a categoria da solução.</li>
                        <li style="font-weight: bold;">
                            — Linha mais Externa: Prospecção / Estudo.
                        </li>
                        <li style="font-weight: bold;">
                            — Linha do Meio: Desenvolvimento / Piloto / MVP.
                        </li>
                        <li style="font-weight: bold;">
                            — Linha mais Interna: Uso Pleno / Produção.
                        </li>
                    </ul>
                </div>

                <div class="content-filter-section w-full flex flex-wrap justify-center gap-4 mb-8" id="filterSection">
                    </div>

                <div class="radar-container mx-auto" style="width: 600px; max-width: 95vw;">
                    <svg class="radar-svg" id="radarSVG" viewBox="0 0 700 400">
                        <path d="M100,350 A250,250 0 0,1 600,350" stroke="#3FA110" stroke-width="1.5" fill="none" opacity="0.6"/>
                        <path d="M150,350 A200,200 0 0,1 550,350" stroke="#3FA110" stroke-width="1.5" fill="none" opacity="0.4"/>
                        <path d="M200,350 A150,150 0 0,1 500,350" stroke="#3FA110" stroke-width="1.5" fill="none" opacity="0.2"/>
                        <line x1="350" y1="350" x2="100" y2="350" stroke="#6B6B6B" stroke-width="0.5" opacity="0.8"/>
                        <line x1="350" y1="350" x2="350" y2="100" stroke="#6B6B6B" stroke-width="0.5" opacity="0.8"/>
                        <line x1="350" y1="350" x2="600" y2="350" stroke="#6B6B6B" stroke-width="0.5" opacity="0.8"/>
                        <line x1="350" y1="350" x2="552.25" y2="202.9" stroke="#6B6B6B" stroke-width="0.5" opacity="0.8"/>
                        <line x1="350" y1="350" x2="427.32" y2="101.3" stroke="#6B6B6B" stroke-width="0.5" opacity="0.8"/>
                        <line x1="350" y1="350" x2="272.68" y2="101.3" stroke="#6B6B6B" stroke-width="0.5" opacity="0.8"/>
                        <line x1="350" y1="350" x2="147.75" y2="202.9" stroke="#6B6B6B" stroke-width="0.5" opacity="0.8"/>
                    </svg>
                    <div class="tooltip" id="tooltip"></div>
                </div>

                <div class="selected-card-container w-full" id="selectedCardContainer"></div>
            </div>
        </section>
    </main>

    <div id="project-modal" class="modal fixed inset-0 bg-gray-900 bg-opacity-75 z-[60] flex items-center justify-center hidden">
        <div class="bg-white rounded-lg p-6 w-11/12 md:w-1/2 max-w-lg shadow-2xl relative">
            <button id="close-modal" class="absolute top-3 right-3 text-gray-500 hover:text-gray-800 transition">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <h3 id="modal-title" class="text-2xl font-bold text-gray-800 mb-2"></h3>
            <p id="modal-dimension" class="text-md font-medium text-[#3FA110] mb-4"></p>
            <p id="modal-description" class="text-gray-700 leading-relaxed"></p>
            <p id="modal-maturity-status" class="text-lg font-semibold text-gray-600 mt-4 pt-3 border-t border-gray-200"></p>
        </div>
    </div>

    <script>
        // --- 1. DADOS DE IA (Inseridos no lugar dos dados originais) ---
        const rawData = [
            { nome: "Databricks", desafio: "Análise preditiva", descricao: "Plataforma unificada para dados, análises e IA. Permite engenheiros de dados e cientistas colaborarem na arquitetura Lakehouse.", maturidade: "Em Uso (Plataforma Core)" },
            { nome: "API GPT (OpenAI)", desafio: "Automação de processos", descricao: "Integra o poder dos grandes modelos de linguagem (LLMs) a sistemas internos.", maturidade: "Em Uso (Projetos Piloto e Integração)" },
            { nome: "GitHub Copilot", desafio: "Automação de processos", descricao: "Assistente de codificação de IA que utiliza LLMs para sugerir código em tempo real.", maturidade: "Em Uso (Adoção por Desenvolvedores)" },
            { nome: "Copilot Studio", desafio: "Atendimento ao cliente", descricao: "Ferramenta low-code para criar e personalizar copilotos e chatbots corporativos.", maturidade: "Em Desenvolvimento (Criação de Agentes)" },
            { nome: "TheoGPT", desafio: "Atendimento ao cliente", descricao: "Assistente virtual interno baseado em Azure/OpenAI para colaboradores.", maturidade: "Em Uso (Adoção Interna)" },
            { nome: "Perplexity.AI", desafio: "Busca e geração de informações", descricao: "Plataforma de busca que utiliza IA generativa para fornecer respostas diretas com fontes.", maturidade: "Em Prospecção (Estudo de Caso)" },
            { nome: "Vitrine de Modelos", desafio: "Análise preditiva", descricao: "Repositório centralizado para catálogo de modelos de Machine Learning (ML).", maturidade: "Em Uso (Plataforma Core)" },
            { nome: "Copilot Chat", desafio: "Atendimento ao cliente", descricao: "Chat integrado ao ecossistema de produtividade para resumos e criação de conteúdo.", maturidade: "Em Uso (Disponível para Colaboradores)" },
            { nome: "Copilot 365", desafio: "Automação de processos", descricao: "IA generativa integrada ao Word, Excel, PowerPoint e Teams.", maturidade: "Em Uso (Disponível para Colaboradores)" },
            { nome: "Teams Premium", desafio: "Atendimento ao cliente", descricao: "Recursos de IA para reuniões, como resumos inteligentes e tradução.", maturidade: "Em Uso (Adoção em Reuniões)" },
            { nome: "API do OCR", desafio: "Automação de processos", descricao: "Extração de texto de imagens e documentos usando IA.", maturidade: "Em Uso (Processamento de Documentos)" },
            { nome: "IA GEN na Base", desafio: "Busca e geração de informações", descricao: "RAG em repositório interno de documentos para respostas precisas.", maturidade: "Em Desenvolvimento (MVP Interno)" },
            { nome: "Portal Rag", desafio: "Busca e geração de informações", descricao: "Plataforma base para criação de soluções RAG locais.", maturidade: "Em Desenvolvimento (Plataforma Base)" },
            { nome: "Fala Diana", desafio: "Atendimento ao cliente", descricao: "Consulta de dados financeiros em linguagem natural.", maturidade: "Em Uso (Adoção Interna)" },
            { nome: "IA no Gupy", desafio: "Recrutamento e seleção", descricao: "Triagem e ranqueamento automático de candidatos com IA.", maturidade: "Em Uso (Triagem Automática)" },
            { nome: "Power Automate", desafio: "Automação de processos", descricao: "RPA com recursos de IA para fluxos de trabalho inteligentes.", maturidade: "Em Uso (Fluxos de Trabalho e RPA)" },
            { nome: "Canva IA", desafio: "Criação visual", descricao: "Geração de imagens e designs com IA para marketing.", maturidade: "Em Uso (Adoção por Marketing)" },
            { nome: "Modelo Biribinha", desafio: "Crédito e risco", descricao: "Analista de crédito virtual para concessão automática.", maturidade: "Em Uso (Produção Plena)" },
            { nome: "Crédito Fácil IA", desafio: "Crédito e risco", descricao: "Modelos estatísticos para definição de limites e valores.", maturidade: "Em Uso (Otimização Contínua)" },
            { nome: "Propensão Consórcio", desafio: "Inteligência de mercado", descricao: "Modelos de ML para identificar clientes com propensão de compra.", maturidade: "Em Uso (Campanhas Ativas)" },
            { nome: "MIA (Monest IA)", desafio: "Recuperação de crédito", descricao: "Automação e otimização da recuperação de crédito com IA.", maturidade: "Em Uso (Produção Plena)" }
        ];

        // --- 2. MAPEAMENTO PARA AS 5 FATIAS (Necessário para a geometria do radar) ---
        const dimensionMap = {
            "Análise preditiva": "Dados e Decisão",
            "Crédito e risco": "Dados e Decisão",
            "Inteligência de mercado": "Dados e Decisão",
            "Recuperação de crédito": "Dados e Decisão",
            "Automação de processos": "Eficiência Operacional",
            "Recrutamento e seleção": "Eficiência Operacional",
            "Atendimento ao cliente": "Experiência do Cliente",
            "Busca e geração de informações": "Gestão do Conhecimento",
            "Criação visual": "Criatividade & Design"
        };

        // Mantendo cores distintas apenas para os PONTOS, mas a estrutura segue o padrão do arquivo original
        const dimensionColors = {
            "Dados e Decisão": "#3B82F6", // Azul
            "Eficiência Operacional": "#10B981", // Verde
            "Experiência do Cliente": "#F59E0B", // Laranja
            "Gestão do Conhecimento": "#8B5CF6", // Roxo
            "Criatividade & Design": "#EC4899"  // Rosa
        };

        // Prepara os dados
        const originalRadarData = rawData.map(item => ({
            ...item,
            dimensaoAgrupada: dimensionMap[item.desafio] || "Outros"
        }));

        // Nomes das dimensões para os filtros e radar
        const desafios = ["Todas", "Dados e Decisão", "Eficiência Operacional", "Experiência do Cliente", "Gestão do Conhecimento", "Criatividade & Design"];
        const layers = [250, 200, 150]; // Raios das camadas

        // --- FUNÇÕES MANTIDAS E ADAPTADAS DO ORIGINAL ---
        
        function getDesafioParams() {
            const filteredDesafios = desafios.filter(d => d !== "Todas");
            const total = filteredDesafios.length;
            let params = {};
            const angleSize = 180 / total;

            filteredDesafios.forEach((d, i) => {
                const start = 180 - angleSize * i;
                const end = 180 - angleSize * (i + 1);
                // Usa a cor específica para o ponto, mas o "tema" do site continua verde
                params[d] = {
                    start: start,
                    end: end,
                    color: dimensionColors[d] || "#3FA110" 
                };
            });
            return params;
        }

        // Função auxiliar para determinar o raio baseado no texto da maturidade
        function getRadiusForMaturity(maturidade) {
            const m = maturidade.toLowerCase();
            if (m.includes("prospecção") || m.includes("estudo")) return layers[0];
            if (m.includes("desenvolvimento") || m.includes("mvp") || m.includes("piloto") || m.includes("criação")) return layers[1];
            if (m.includes("uso") || m.includes("produção") || m.includes("disponível")) return layers[2];
            return layers[1];
        }

        function distributePoints(data, desafioParams, filter="Todas") {
            let points = [];
            Object.keys(desafioParams).forEach(cat => {
                if (filter !== "Todas" && filter !== cat) return;
                
                // Filtra pelos dados agrupados
                const items = data.filter(d => d.dimensaoAgrupada === cat);
                
                const {start, end, color} = desafioParams[cat];
                const angleStep = (start - end) / (items.length + 1);
                
                items.forEach((item, i) => {
                    const angle = start - angleStep * (i + 1);
                    const radius = getRadiusForMaturity(item.maturidade);

                    const rad = Math.PI * angle / 180;
                    const x = 350 + radius * Math.cos(rad);
                    const y = 350 - radius * Math.sin(rad);
                    points.push({...item, x, y, color, categoriaVisual: cat});
                });
            });
            return points;
        }

        function renderFilters() {
            const section = document.getElementById('filterSection');
            section.innerHTML = ''; 
            desafios.forEach((d, idx) => {
                const btn = document.createElement('button');
                btn.className = 'content-item' + (idx === 0 ? ' active' : '');
                btn.setAttribute('data-filter', d);
                btn.textContent = d;
                section.appendChild(btn);
            });
        }

        function renderRadarPoints(filter) {
            const svg = document.getElementById('radarSVG');
            Array.from(svg.querySelectorAll('.radar-point')).forEach(e => e.remove());
            
            const desafioParams = getDesafioParams();
            const points = distributePoints(originalRadarData, desafioParams, filter);
            
            points.forEach((pt) => {
                const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                circle.setAttribute("cx", pt.x);
                circle.setAttribute("cy", pt.y);
                circle.setAttribute("r", 12); 
                circle.setAttribute("fill", pt.color);
                circle.setAttribute("opacity", "0.85");
                circle.setAttribute("class", "radar-point");
                circle.setAttribute("style", "cursor:pointer; transition: fill 0.2s, r 0.2s;");
                
                circle.addEventListener("mouseenter", function() {
                    this.setAttribute("r", 16); 
                    showTooltip(pt, this);
                });
                circle.addEventListener("mouseleave", function() {
                    this.setAttribute("r", 12);
                    hideTooltip();
                });
                
                circle.onclick = function() {
                    showSelectedCard(pt);
                };
                svg.appendChild(circle);
            });
        }

        function showTooltip(pt, element) {
            const tooltip = document.getElementById('tooltip');
            tooltip.innerHTML = `<strong>${pt.nome}</strong><br><span style="color:#ffffff; font-size:0.8em">${pt.desafio}</span>`;
            tooltip.style.display = 'block';

            const rect = element.getBoundingClientRect();
            tooltip.style.left = (rect.left + rect.width / 2 - tooltip.offsetWidth / 2) + 'px';
            tooltip.style.top = (rect.top - tooltip.offsetHeight - 8) + 'px';
        }
        
        function hideTooltip() {
            const tooltip = document.getElementById('tooltip');
            tooltip.style.display = 'none';
        }

        // Função de card com estilo original, adaptada para usar a cor da dimensão
        function showSelectedCard(pt) {
            const container = document.getElementById('selectedCardContainer');
            
            const cardStyle = `
                background: #ffffff; 
                border: 1px solid #e0e0e0;
                box-shadow: 0 4px 16px rgba(0,0,0,0.1); 
                border-left: 10px solid ${pt.color};
            `;
            const maturityStyle = `color: ${pt.color};`;

            container.innerHTML = `
                <div class="selected-card" style="${cardStyle}">
                    <div class="card-title text-xl"><strong>${pt.nome}</strong></div>
                    <div class="card-category text-sm font-light text-gray-600">${pt.desafio} <span class="mx-1">|</span> ${pt.dimensaoAgrupada}</div>
                    <div class="card-desc">${pt.descricao}</div>
                    <div class="card-maturity" style="${maturityStyle}">Maturidade: ${pt.maturidade}</div>
                </div>
            `;
        }

        function setupFilterEvents() {
            document.querySelectorAll('.content-filter-section .content-item').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.content-filter-section .content-item').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    const filter = this.getAttribute('data-filter');
                    
                    document.getElementById('selectedCardContainer').innerHTML = '';
                    renderRadarPoints(filter);
                });
            });
        }

        // Funções da Página Principal (Sidebar e Tabs)
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('main-content');
        const menuToggle = document.getElementById('menu-toggle');
        const menuItems = document.querySelectorAll('.menu-item');
        const modal = document.getElementById('project-modal');
        const closeModalButton = document.getElementById('close-modal');

        function switchContent(contentId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.add('hidden');
            });
            const activeSection = document.getElementById(`content-${contentId}`);
            if (activeSection) {
                activeSection.classList.remove('hidden');
                
                if (contentId === 'radar') {
                    renderFilters();
                    setupFilterEvents();
                    renderRadarPoints('Todas');
                }
            }
            menuItems.forEach(item => {
                if (item.getAttribute('data-content-id') === contentId) {
                    item.classList.add('bg-[#3FA110]', 'text-white', 'font-bold');
                    item.classList.remove('text-gray-700', 'hover:bg-gray-100');
                    item.setAttribute('aria-current', 'true');
                } else {
                    item.classList.remove('bg-[#3FA110]', 'text-white', 'font-bold');
                    item.classList.add('text-gray-700', 'hover:bg-gray-100');
                    item.removeAttribute('aria-current');
                }
            });
        }

        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('hidden');
        });

        menuItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                const contentId = this.getAttribute('data-content-id');
                switchContent(contentId);
                
                if (window.innerWidth < 1024) {
                    sidebar.classList.add('hidden');
                }
                mainContent.scrollIntoView({ behavior: 'smooth' });
            });
        });
        
        closeModalButton.addEventListener('click', () => {
            modal.classList.add('hidden');
        });

        window.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                modal.classList.add('hidden');
            }
        });

        window.onload = function() {
            const initialContentId = window.location.hash.substring(1) || 'intro';
            switchContent(initialContentId);
            
            if (window.innerWidth >= 1024) {
                sidebar.classList.add('sidebar-fixed');
            }
            
            window.addEventListener('resize', () => {
                const radarContainer = document.getElementById('content-radar');
                if (radarContainer && !radarContainer.classList.contains('hidden')) {
                    const activeFilter = document.querySelector('.content-filter-section .content-item.active');
                    const filter = activeFilter ? activeFilter.getAttribute('data-filter') : 'Todas';
                    renderRadarPoints(filter);
                }
            });
        };
    </script>
</body>
</html>
